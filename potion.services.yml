services:

  potion.gettext_wrapper:
    class: \Drupal\potion\GettextWrapper
    arguments:
      - '@config.factory'

  potion.utility:
    class: Drupal\potion\Utility
    arguments:
      - '@language_manager'
      - '@potion.gettext_wrapper'
      - '@file_system'

  potion.translations.import:
    class: \Drupal\potion\TranslationsImport
    arguments:
      - '@potion.utility'
      - '@module_handler'

  potion.translations.export:
    class: \Drupal\potion\TranslationsExport
    arguments:
      - '@potion.utility'
      - '@config.factory'
      - '@file_system'

  potion.translations.extractor:
    class: \Drupal\potion\TranslationsExtractor
    arguments:
      - '@potion.utility'
      - '@config.factory'
      - '@file_system'
      - '@potion.extractor.twig'
      - '@potion.extractor.php'

  # Extractors
  potion.extractor.twig:
    class: Drupal\potion\Extractor\TwigExtractor
    arguments:
      - '@twig'

  potion.extractor.php:
    class: Drupal\potion\Extractor\PhpExtractor
    arguments:
      - '@potion.utility'

  # Twig Extensions
  potion.twig.extractor_extension:
    class: Drupal\potion\Twig\Extension\TransExtractorExtension
    tags:
      - { name: twig.extension }
